## 配置

```shell
# git config --<local | system | global> <key>  <value>
git config --global user.name Klaus
git config --global user.email Klaus@gmail.com

git config --help # 查看帮助文档

git config user.name # 查看配置项
```

| 参数   | 说明     | 对应配置文件所在路径    |
| ------ | -------- | ----------------------- |
| local  | 项目级别 | 当前项目的`.git/config` |
| global | 用户级别 | `~/.gitconfig`          |
| system | 系统级别 | `/etc/gitconfig`        |

多个配置文件同时存在，遵循就近原则  => `system < global < local`

> 在 Unix 系统中，`/etc` 目录用于存放各种系统配置文件或全局配置文件，通常只有系统管理员（root 用户）有权限进行修改。



## 修改注释

```shell
# 修改最近一次提交的注释信息，但不修改提交用户信息
git commit --amend

# 修改最近一次提交的注释信息以及提交用户信息
git commit --amend --reset-author 
```





## 初始化git仓库

```shell
git init
```

1. 初始化空仓库后，项目根目录会生成`.git` 
   + `.git` 本质就是本地版本库，git命令本质是就是在操作`.git`中对应文件
2. 生成默认分支，也就是主分支 master 或 main
   + 主分支 一般用于 项目的线上发布使用



## 查看git文件状态

```shell
git status
```



## 本地提交

```shell
# git add . # . 表示当前工作区中所有的修改
git add <file> <file> # 工作区 -> 暂存区
```

```shell
git commit -m '提交注释' # 暂存区 -> 本地版本库

git commit -am '提交注释' # 工作区 -> 本地版本库

# 不添加注释，会自动通过vim打开文件，要求输入注释信息
git commit 
```

```shell
# 以下两个命令执行的前提条件是:
# 存在本地版本库并有提交记录，即存在HEAD指向
# HEAD 指向 本地版本库中最新的那次提交记录

# 本质是工作区 和 HEAD指向 保持一致
git restore <file> # 丢弃工作区修改

# 本质是暂存区 和 HEAD指向  保持一致
git restore --staged <file> # 丢弃暂存区修改
```

```shell
# 如果仓库是首次创建，没有提交记录
# 如果要丢弃工作区修改，直接删除即可 「 本身就没有加入本地版本库 」
# 如果要从暂存区中删除修改，可以使用如下命令
git rm --cached <file>
```



## 提交记录

`git`每次提交记录都会基于`SHA-1`摘要算法生成唯一ID，这个ID被称之为`commitID`

```shell
git log # 查看日志 倒序排列 「 最新提交在最上边 」

git log -n # 查看最近n条记录

# 以下两个命令都是 将日志精简 「 一行显示 」
git log --oneline # commitId是简写 
git log --pretty=oneline # commitId是完整写法
```



`SHA-1`是一种文章摘要哈希算法

1. 无论输入是什么，都可以使用该算法生成尽可能唯一的 固定长度的哈希值
2. 这个算法是单向的，一般可以用于数据完整性验证、快速查找和生成唯一ID等



## 删除文件

```shell
git rm <file> 
# 等价于 rm <file> + git add <file>
```



## 重命名文件

```shell
git mv <old file> <new file>
# 等价于 mv <old file> <new file> + git add <new file>
```



## 查看命令文档

```shell
git <command> --help

git help <command>

man git-<command>
```

