## 修改class

### className

元素的class属性值，对应值是字符串

```html
<div id="box" class="box">div</div>
```

```js
const el = document.getElementById('box')

console.log(el.className) // => 'box'
el.className = 'foo'
console.log(el.className) // => 'foo'
```

`className`对应的是`class`属性的值，所以如果直接设置，会覆盖整个`class`属性值



### classList

为了解决设置`className`会替换整个`class`属性值的问题，DOM提供了`classList`

classList是一个存储了元素样式的伪数组对象，可以使用`for-of`遍历

classList添加的都是类选择器，所以可以省略类选择器前边的点

| 方法                           | 说明                                |
| ------------------------------ | ----------------------------------- |
| elem.classList.add (class)     | 添加一个类                          |
| elem.classList.remove(class)   | 移除类                              |
| elem.classList.toggle(class)   | 如果类不存在就添加类，存在就移除它  |
| elem.classList.contains(class) | 检查给定类是否存在，返回 true/false |

```js
// add方法在添加类的时候，会自动在类之前加上对应的空格
// 例如原本的类有title 即class=“title”
// add('active')后，会变为class=“title active”
boxEl.classList.add('active')

// 判断一个元素上是否存在某个类
// 参数为box 不是 .box
boxEl.classList.contains('box')
```

```js
const boxEl = document.getElementById('box')

for (const styleName of boxEl.classList) {
  console.log(styleName)
  /*
    =>
      box
      active
  */
}
```



## 修改style

直接通过`<DOM原生>.style`获取到的是`css style 描述对象`

在这个`css style描述对象中`，中化线属性被转换为了小驼峰写法

例如`font-size`变成了`fontSize`

```js
const el = document.getElementById('box')

// 设置的时候 中划线样式名 即可以使用中划线写法，也可以使用小驼峰写法
// 推荐使用小驼峰写法
el.style.backgroundColor = 'skyblue'
el.style['font-size'] = '20px'
```



移除style中的某个样式属性 「 这里以display为例 」

```css
el.style.display = ''
```



通过style设置样式，只能一个个设置，直接设置对象会静默失效

```js
el.style = {
  color: red,
  fontSize: '30px',
  backgroundColor:  'skyblue'
}
```

如果想要通过对象统一进行设置，可以使用`cssText`

`cssText`和`className`一样，会替换整个`style`属性值并设置为新值

```css
el.style.cssText = `
  font-size: 20px;
  color: red;
  background-color: skyblue
`
```



## 获取样式

对于行内样式，直接通过style样式对象就可以获取

```js
const boxEl = document.getElementById('box')

console.log(boxEl.style.backgroundColor) // => skyblue
console.log(boxEl.style.color) // => '' -- 样式值如果没有设置，那么默认值就是空字符串
```



对于其它方式设置的样式，如style标签或外链样式设置的样式，需要通过`getComputedStyle`

```js
const boxEl = document.getElementById('box')

console.log(getComputedStyle(boxEl)) 
```

1. `getComputedStyle(el, 伪元素)`
   + 参数一 --- 元素对象
   + 参数二 --- 伪元素选择器
2. `getComputedStyle`需要重排对应元素后获取最新样式值，比较消耗性能
3. `getComputedStyle`的返回值是`CSS 样式描述对象` -- 对应的值都是计算后的值，不是设置的值

```js
const el = document.getElementById('box')

// 获取的值是计算属性值 --- 是带单位的
console.log(getComputedStyle(el).fontSize) // '16px'

// 可以看到获取的值是计算后的值，不是设置的值
console.log(getComputedStyle(el, '::after').color) // 'rgb(255, 0, 0)'
console.log(getComputedStyle(el, '::after').fontSize) // '32px'
```



