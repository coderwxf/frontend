## 三大系列

获取元素宽高，有三个系列，分别是

1. **client 系列**：`clientWidth` 和 `clientHeight` 表示元素内容区域的宽度和高度，包括内边距，但不包括边框、滚动条和外边距。获取的值会四舍五入为整数。
2. **offset 系列**：`offsetWidth` 和 `offsetHeight` 表示元素的整体宽度和高度，包括内容、内边距、边框和滚动条。获取的值也会四舍五入为整数。
3. **scroll 系列**：`scrollWidth` 和 `scrollHeight` 表示元素滚动内容的宽度和高度，包括超出视口的部分。获取的值通常是整数，但不一定会四舍五入。



### client系列

| 属性         | 说明                                      |
| ------------ | ----------------------------------------- |
| clientWidth  | contentWith + padding * 2「 内部宽度 」   |
| clientHeight | contentHeight + padding * 2「 内部高度 」 |
| clientTop    | border-top的宽度                          |
| clientLeft   | border-left的宽度                         |



#### 内部宽高

1. 行内元素，内部宽高都是0
2. 内部宽高不计算滚动条和边框 「 chrome的滚动条有15px左右 」

![IF1wnr.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f88aae1df6874fa39a0bdcf6d60acbef~tplv-k3u1fbpfcp-zoom-1.image) 





### offset系列

| 属性         | 说明                                           |
| ------------ | ---------------------------------------------- |
| offsetParent | 包含块                                         |
| offsetWidth  | 布局宽度                                       |
| offsetHeight | 布局高度                                       |
| offsetLeft   | 当前元素左上角相对于`offsetParent`的水平偏移量 |
| offsetTop    | 当前元素左上角相对于`offsetParent`的垂直偏移量 |



#### 布局宽高

布局宽高包含滚动条和边框，以布局宽度为例

`offsetWidth = contentWidth + padding * 2 + border  * 2 = clientWidth + border * 2`

![IF14zC.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/92f1679cf941470b87e5d7e14db683a3~tplv-k3u1fbpfcp-zoom-1.image) 



### scroll系列

| 属性         | 说明                                           |
| ------------ | ---------------------------------------------- |
| scrollWidth  | 整个可滚动的区域宽度                           |
| scrollHeight | 整个可滚动的区域高度                           |
| scrollLeft   | 向左卷曲出去的距离 + borderLeft 「 包含边框 」 |
| scrollTop    | 向上卷曲出去的距离 + borderTop「 包含边框 」   |



`scrollWidth`和`scrollHeight`分别返回元素内容的宽度和高度，包括由于`overflow`溢出而在屏幕上不可见的内容

当内容宽度小于元素宽度的时候，返回值同`clientWidth`和`clientHeight`, 也就是`scrollWidth`和`scrollHeight`不计算滚动条

![IF1zwz.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a60e4e9218524dc59155b228d46df708~tplv-k3u1fbpfcp-zoom-1.image) 



#### scrollTop 和 scrollLeft

1. 在三大系列中，只有`scrollTop 和 scrollLeft`是可以被设置的
2. 设置的值
   + 小于0，设置为0
   + 大于最大可滚动距离，设置为最大可滚动距离
   + 设置的值会被四舍五入为一个整数
3. 只有存在滚动条的`scrollTop 和 scrollLeft`才是有效的，否则它们恒等于`0`

![IFfmOz.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/609bc2dd9d9344c5a3d71ef77334531f~tplv-k3u1fbpfcp-zoom-1.image) 



## getBoundingClientRect

`Element.getBoundingClientRect()`方法返回`Element`元素的大小及其相对视口的位置

调用该方法获取值时，会重绘页面以获取最新值，比较耗费性能

![IF1O6S.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/973e69402b1c472498fde44fe789dc79~tplv-k3u1fbpfcp-zoom-1.image) 

| 属性   | 值                                         |
| ------ | ------------------------------------------ |
| left   | 元素左上角距离视口左边的距离               |
| top    | 元素左上角距离视口顶部的距离               |
| right  | 元素右下角距离视口左边的距离               |
| bottom | 元素右下角距离视口顶部的距离               |
| width  | 元素的宽度                                 |
| height | 元素的高度                                 |
| x      | 元素左上角距离视口左边的距离<br />非标属性 |
| y      | 元素左上角距离视口顶部的距离<br />非标属性 |

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d569af7d2d64163b1f79ae5475a2103~tplv-k3u1fbpfcp-zoom-1.image) 

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/663892633550467eb70028e3023847e3~tplv-k3u1fbpfcp-zoom-1.image) 



## 滚动

### scrollTo/scrollBy

| 方法                   | 说明                                                         |
| ---------------------- | ------------------------------------------------------------ |
| scrollBy(x, y)         | 将页面或元素的内容相对于当前滚动位置移动 (x, y) 像素。       |
| scrollTo(pageX, pageY) | 将页面或元素的内容滚动到指定的 (pageX, pageY) 像素位置。<br />`scroll` 方法是 `scrollTo` 方法的别名，通常用于相同的功能。 |

1. `scrollTo` 和 `scrollBy` 方法可以用于 `Window` 对象和 `Element` 对象。
2. 如果指定的滚动距离超过了元素或窗口的最大可滚动距离，`scrollTo` 和 `scrollBy` 只会滚动到最大可滚动的位置。
3. `scrollTo` 和 `scrollBy` 方法的参数：
   + 两个数值类型的参数，表示 `x` 和 `y` 方向的滚动距离。
   + 一个配置对象，可以包含以下属性：
     - `left`：表示 `x` 方向的滚动距离。
     - `top`：表示 `y` 方向的滚动距离。
     - `behavior`：表示滚动行为，可以是 `'auto'`（默认，直接跳转）或 `'smooth'(平滑滚动)。



### scrollIntoView

1. 用于元素，将元素滚动到可视区域中
1. 如果元素已经在视口或元素无法滚动，则静默失效



**语法**

```js
element.scrollIntoView();
element.scrollIntoView(alignToTop); // Boolean
element.scrollIntoView(scrollIntoViewOptions); // Object
```



**传布尔值**

```ts
element.scrollIntoView(); // 默认值是 true，相当于 element.scrollIntoView(true)
element.scrollIntoView(true);  // 滚动到视口顶部
element.scrollIntoView(false); // 滚动到视口底部
```



**传对象值**

- `behavior`（可选）：定义滚动行为
  - 它的值可以是 `'auto'`（默认）或 `'smooth'`。

- `inline`（可选）：定义水平方向上的对齐方式
  - 它的值可以是 `'start'`（默认）、`'center'`、`'end'` 或 `'nearest'`。

- `block`（可选）：定义垂直方向上的对齐方式
  - 它的值可以是 `'start'`、`'center'`、`'end'` 或 `'nearest'``（默认）。


```javascript
element.scrollIntoView({
  behavior: 'smooth',  // 平滑滚动
  block: 'center',     // 垂直方向上对齐到视口中央
  inline: 'nearest'    // 水平方向上对齐到最近的边界
});
```



**对齐方式**：「 以inline为例 」

+ `start`:  元素的左边缘会与视口的左边缘对齐
+ `center`:  元素的中间部分会与视口的中间部分对齐
+ `end`:  元素的右边缘会与视口的右边缘对齐
+ `nearest`:  自动选择 `start` 或 `end` 对齐方式，选择能使元素最小滚动距离的那个位置