在渲染VDOM的时候，会根据VDOM的type属性执行不同操作

1. 如果是字符串 --- `创建对应元素`
2. 普通函数 --- `普通函数(props)` --- 每调用一次函数组件，会创建一个独立的执行上下文
3. 构造函数「类」 --- `new 构造函数(props)` --- 每调用一次类组件，会创建一个单独的组件实例



![image-20240322105344590](https://s2.loli.net/2024/03/22/Sa6ieHX593TgxVA.png) 



假设我们需要渲染的组件如下

```jsx
// Vote是一个类组件
<Vote name="Klaus" />
```



## 初始化组件实例

```js
const vote = new Vote({
  name: 'Klaus'
})
```



## 传入props

1. 先对传入的props进行规则校验
2. 再将props传递给组件

```js
constructor(props) {
  super(props)
}
```



## 设置state

将组件的state挂载到组件实例上

```js
constructor(props) {
  super(props)
  
  this.state = {
    name: 'Klaus'
  }
}
```



## 渲染组件

执行render函数，并将render函数返回的JSX渲染到界面上，并在此过程中，执行对应的生命周期钩子
