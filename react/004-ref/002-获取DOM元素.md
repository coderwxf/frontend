一般获取DOM，都是在组件挂载完毕后，也就是在`componentDidMount`中执行

在React中，`ref`用来获取React元素或组件的实际DOM节点的引用



`方式一 --- 原生方式`

```js
componentDidMount() {
  console.log(document.querySelector('.title'))
}
```

弊端: 

+ 原生获取DOM的方式是全局查找的，性能差且容易冲突



`方式二 --- ref方式` 

```jsx
import { PureComponent } from 'react'

export default class App extends PureComponent {
  render() {
    return (
      <>
        <h2 ref="title">title</h2>
      </>
    )
  }

  componentDidMount() {
    // 字符串ref对应的dom元素会被挂载到this.refs中
    console.log(this.refs.title)
  }
}
```

弊端:

+ 字符串ref，在react内部实现时存在性能浪费，已经被官方废弃



`方式三 -- 函数形式`

```jsx
import { PureComponent } from 'react'

export default class App extends PureComponent {
  render() {
    return (
      <>
        {/*
          1. dom元素通过参数传入
          2. 自主决定将dom元素赋值给那个变量
          3. 在组件卸载时会被回调一次，参数为null 
        */}
        <h2 ref={el => this.el = el}>title</h2>
      </>
    )
  }

  componentDidMount() {
    console.log(this.el)
  }
}
```



`方式三 - 内置api`

```jsx
import { PureComponent, createRef } from 'react'

export default class App extends PureComponent {
  // 通过createRef 获取ref对象
  el = createRef() // el => { current: undefined }

  render() {
    return (
      <>
        {/* 将ref对象绑定到元素上 */}
        <h2 ref={this.el}>title</h2>
      </>
    )
  }

  componentDidMount() {
    // 获取并使用DOM元素
    console.log(this.el.current)
  }
}
```