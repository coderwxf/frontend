1. 将组件的可复用逻辑抽取到一个可复用的函数中
2. 这个函数以`use`开头



react约定，如果一个函数以`use`开头，则这个函数是hook函数，则在这个函数的顶层作用域中可以使用hook函数

```jsx
import { useState } from "react"

// 让setState支持部分状态更新
function usePartialState(partialState) {
  const [state, setState] = useState(partialState)

  // 使用自定义状态更新函数 替代 旧的状态更新函数
  function setPartialState(partialState) {
    setState({
      ...state,
      ...partialState
    })
  }

  return [state, setPartialState]
}

export default function App(props) {
  const [state, setState] = usePartialState({
    x: 10,
    y: 20
  })

  const { x, y } = state

  function addX() {
    setState({
      x: x + 1
    })
  }

  return (
    <>
      <div>({x}, {y})</div>
      <button onClick={addX}>add X</button>
    </>
  )
}
```

