默认情况下，只要组件调用了`setState`，

react就会新建新旧DOM，并进行DOM-DIFF 即使更新的数据和原数据相同

为此react提供了`shouldComponentUpdate` 「 简称SCU 」

```js
// 参数是 更新之前的 props 和 state
// 返回值需要一个布尔值 true 表示需要更新 false表示不需要更新
// 默认值是true
shouldComponentUpdate(nextProp, nextState) {
  return true
}
```



而所有组件的SCU逻辑其实都是一样的，判断props和state有没有发生更新，如果发生了更新才去重新调用render方法

此时

+ 类组件 可以继承自 PureComponent

+ 函数组件 可以使用 memo方法进行包裹

PureComponent 和 memo 内部自己实现了SCU 「 对 新旧state 和 新旧props 进行 浅层比较 」

```jsx
import { memo } from 'react'

const Child = memo(({ count }) => {
  return (
    <div>{ count }</div>
  )
})

export default Child
```

