## 跨域配置

`/src/setupProxy.js`  => `webpack`启动时会自动去加载这个文件，实现跨域代理配置

```js
const { createProxyMiddleware } = require('http-proxy-middleware');

module.exports = function(app) {
  app.use(
    '/api',
    createProxyMiddleware({
      target: 'http://127.0.0.1:9000', // 目标服务器的地址
      changeOrigin: true,
      pathRewrite: { '^/api': '' }, // 可选：重写路径 => 移除/api
    })
  );
};

```

1. `http://127.0.0.1:3000/api/getList` => `http://127.0.0.1:9000/getList` => 由开发服务器去发送请求
2. 开发服务器获取结果后再转发给浏览器 => 跨域只是浏览器行为，服务端没有跨域行为



### changeOrigin

本地地址 => `http://127.0.0.1:3000`, 服务器地址 => `http://127.0.0.1:9000`

`changeOrigin: false` => 代理服务器请求数据时，不会修改请求头中的 `Origin` 

`changeOrigin:true` => 代理服务器请求数据时，请求头中的 `Origin` 会被修改为`http://127.0.0.1:9000` 「 用host替换origin 」



### origin 和 host

假设有一个网页在 `http://example.com` 上运行，并且这个网页通过 JavaScript 发起了一个请求到 `http://api.example.org/data`。

`origin` => `http://example.com`

`host` => `api.example.org`



## PM2

**Node**

- **代码修改**：需要手动重新启动应用程序以应用更改。
- **VSCode关闭**：如果你在终端中运行 Node 应用程序，关闭 VSCode 将终止该进程。

**Nodemon**

- **代码修改**：自动检测更改并重新启动应用程序。
- **VSCode关闭**：如果在 VSCode 的终端中运行，关闭 VSCode 会终止进程。

**PM2**

- **代码修改**：需要手动重新启动进程以应用更改（除非使用 `pm2 watch` 功能）。
- **系统服务**：作为守护进程运行，即使关闭 VSCode，服务也会继续运行。
- **关闭服务**：需要手动停止服务或重启计算机来终止服务。



### 基本使用

```shell
# 启动服务
pm2 start <入口文件> # 假设入口文件为server.js => 此时默认服务名为server
pm2 start <入口文件> --name <服务名称> 
pm2 start <入口文件> --name <服务名称> --watch # 监听文件改变并自动重启更新

# 查看所有服务
pm2 list

# 停止服务
pm2 stop <入口文件>
pm2 stop <服务名称>

# 重启服务
pm2 restart <入口文件>
pm2 restart <服务名称>

# 删除服务
pm2 delete <入口文件>
pm2 delete <服务名称>

# 查看日志
pm2 logs

# 查看进程详情
pm2 show <服务名> # 不能是入口文件
```



### 守护进程

守护进程（Daemon）是一种在后台运行的计算机程序，通常用于执行系统级任务或提供某些服务，而不需要用户直接交互。「 后台常驻进程 」

在 Linux 和 Unix 系统中，守护进程通常以 `d` 结尾（例如，`httpd`、`sshd`）。在 Windows 系统中，类似的概念称为“服务”



## 常见UI库

**React**

+ PC：
  + Ant Design (Antd) => 仅支持按需导入
  + Material-UI (MUI)
  + 。。。
+ M: 
  + Ant Design Mobile (AntdMobile)
  + 。。。
+ 后台现有模板: 
  + Ant Design Pro (AntdPro)



**Vue**

+ PC: 

  + Element Plus => 可以全量引入也可以按需引入
  + Ant Design Vue
  + Vuetify
  + View UI (iView)

+ M:  

  + Vant (有赞) => 移动端和小程序的版本
  + Cube UI (滴滴)
  + NutUI (京东)

  

## API

```jsx
import axios from 'axios'

const api = axios.create({
  baseURL: '/api'
})

api.interceptors.response.use(res => res.data)

export default api
```





1. 表单校验
2. 非受控组件
3. 事件





![image-20241006130204748](/Users/klaus/Documents/哈哈哈哈哈可以/0425/react18/assets/image-20241006130204748.png) 

![image-20241006132052970](/Users/klaus/Documents/哈哈哈哈哈可以/0425/react18/assets/image-20241006132052970.png) 

