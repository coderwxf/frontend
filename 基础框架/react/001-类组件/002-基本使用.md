类组件必须继承于react中的`Component`组件或`PureComponent`组件

```jsx
// react的Component组件实现伪代码
function Component(props, context, updater) {
  this.props = props;
  this.context = context;
  this.refs = emptyObject;
  this.updater = updater || ReactNoopUpdateQueue;
}
```

因为继承属性使用的是借用父类构造函数继承「 call继承 」，所以子类会存在通用实例属性`props`、`context`、`refs`和`updater` 「 更新队列 」

顺着原型链向上查找，一定会找到`Component.prototype`，所以会存在方法`forceUpdate`、`setState`和属性`isReactCompoent/isReactPureComponent`



## 基本使用

```jsx
import { Component } from 'react'

// 一个类只要继承自PureComponent 或 Component 才能是类组件
export default class App extends Component {
  // 类组件中只有render方法是必传的，返回需要渲染的JSX元素
  render() {
    return (
      <>
        This is a class component
      </>
    )
  }
}
```



render函数在渲染的时候，如果type是：

+ 字符串 => 创建标签
+ 普通函数 => `组件(props)` => 传入的是包含所有props和children的props对象
+ 类 => `new 组件(props)` => 传入的是包含所有props和children的props对象



函数每次调用都会生成新的函数执行上下文，类每次调用都会生成单独的实例 => 组件可以被多次调用

类组件在渲染时会执行render方法，将返回的JSX作为视图进行渲染
