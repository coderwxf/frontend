## 多层透传问题

![Prop 逐级透传的过程图示](https://cn.vuejs.org/assets/prop-drilling.FyV2vFBP.png) 

Footer作为中间组件并不关心所需要使用的数据, 但是为了props可以被正常传递依旧需要接收，这一问题被称为“prop 逐级透传”

`provide` 和 `inject`专门用于解决此类问题

`provide` 和 `inject`都必须同步调用，以确保其被挂载到组件实例上

![Provide/inject 模式](https://cn.vuejs.org/assets/provide-inject.tIACH1Z-.png) 

```vue
<script setup>
import { provide } from 'vue'

const count = ref(0)

// 注入名，可以是一个字符串或是一个 Symbol
provide(/* 注入名 */ 'message', /* 值 */ 'hello!')

// provide方法可以多次调用，注入多个值
provide('key', count)
</script>
```

```vue
<script setup>
import { inject } from 'vue'

const message = inject('message', '这是默认值')
</script>
```

1. 数据没有注入且没有默认值 -- 会报警告