## 组件定义

函数组件就是一个 返回JSX的 函数



`定义`

```jsx
export default function App() {
  return (
    <span>
      this is a function component
    </span>
  )
}
```



`使用`

```jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App' // 导入组件 --- 脚手架配置了webpack，可以省略后缀名js和jsx

const root = ReactDOM.createRoot(document.getElementById('root'));

// 使用组件
root.render(
<>
  <App /> {/* 单标签使用 */}
  <App></App>  {/* 双标签使用 */}
</>
);
```



## 参数传递

如果属性值不是字符串，需要使用`大括号{}`进行包裹

```jsx
<App title="app" age={23} users={['Klaus', 'Alex']} />
```



## 底层渲染机制

```jsx
<App title="app" age={23} users={['Klaus', 'Alex']} />
```

`会被转换为`

```jsx
React.createElement(App, {
  title: "app",
  age: 23,
  users: ["Klaus", "Alex"]
})
```

继续被转换为

```jsx
{
  $$typeof: Symbol(react.element), 
  key: null, 
  ref: null, 
  props: {
    title: 'app',
    age: 23,
    users: ['Klaus', 'Alex']
  },
  type: ƒ App() // vdom的类型 是 组件函数
}
```

转换实际调用

```jsx
App({
  title: 'app',
  age: 23,
  users: ['Klaus', 'Alex']
})
```



1. 函数组件会被调用
2. props对象会作为函数组件的参数被传入
3. 函数组件最终也会返回vdom对象

`组件调用`

```jsx
<App title="app" age={23}>
  App
</App>
```

`组件定义`

```jsx
export default function App(props) {
  console.log(props)
  /*
    =>
    {
      age: 23,
      children: "App", // children也是props的一部分，会被传入
      title: "app"
    }
  */
 
  return (
    <span>
      this is a function component
    </span>
  )
}
```

