## 版本

| 版本major号 | 说明                                  |
| ----------- | ------------------------------------- |
| 16          | 引入hook、Fragment等特性              |
| 17          | 语法没有更新，底层架构更新了          |
| 18          | 语法和架构都更新了，并引入react fiber |



### 脚手架目录结构

```shell
.
├── README.md # 项目说明文件
├── node_modules # 依赖库
├── package-lock.json # 版本锁定文件
├── package.json # 项目描述文件 -- 包括 执行脚本，项目依赖等信息
├── public
│   ├── index.html # 项目模板文件
└── src # 源代码文件 -- 构建工具主要就是对src目录下的内容进行处理
    ├── App.css # 根组件样式
    ├── App.js # 根组件
    ├── App.test.js # 根组件单元测试
    ├── index.css # 全局样式
    ├── index.js # 入口文
    ├── logo.svg
    ├── reportWebVitals.js # 性能测试文件
    └── setupTests.js # 单元测试文件
```



`package.json`

```json
{
  "name": "react-demo",
  "version": "0.1.0",
  "private": true,
  "dependencies": {
    "@testing-library/jest-dom": "^5.17.0",
    "@testing-library/react": "^13.4.0",
    "@testing-library/user-event": "^13.5.0",
    "react": "^18.2.0", // react的核心库 --- 识别JSX语法，状态管理，生成VDOM等
    // 与react-dom对应的还有react-native -- 将vDOM渲染为原生控件
    "react-dom": "^18.2.0", // react渲染为web app核心库(即将vDOM渲染为DOM，用于渲染HTML5)
    // CRA将webpack配置进行抽离，形成了一个单独的库名为react-scripts
    // 我们执行react-scripts对应命名，react-scripts底层再去调用webpack命令
    "react-scripts": "5.0.1",
    "web-vitals": "^2.1.4" // 性能测试工具
  },
  "scripts": {
    "start": "react-scripts start", // 启动开发环境 --- 开启本地web服务器，预览打包内容
    "build": "react-scripts build", // 项目构建 --- 构建后的内容会被输出到 build目录中
    "test": "react-scripts test", // 执行单元测试
    "eject": "react-scripts eject" // 暴露webpack配置 --- 不可逆，不推荐使用
  },
  // eslint配置 --- 静态代码分析工具
  // 可以检测出如下内容:
  // 1. 错误语法
  // 2. 不推荐写法
  // 3. 代码风格错误
  "eslintConfig": {
    "extends": [
      "react-app",
      "react-app/jest"
    ]
  },
  // 项目需要适配的浏览器配置
  // 1. postcss 会基于这个进行 CSS3转换
  // 2. babel 会基于这个 对ESNext语法进行降级处理
  "browserslist": {
    "production": [
      ">0.2%", // 市场份额占比要大于0.2
      "not dead", // 最近两年需要有更新
      "not op_mini all" //  不支持opera
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}
```



`index.js`

```js
import React from 'react';
// react-dom/client -- CSR时，将React元素渲染到DOM容器中
// react-dom/server -- SSR是，将React元素渲染为HTML字符串
import ReactDOM from 'react-dom/client';

// 创建根节点
const root = ReactDOM.createRoot(document.getElementById('root'));

// 通过根节点渲染React元素
root.render(
    <h2>hello world</h2>
);
```



`index.html`

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!--
      %PUBLIC_URL% 占位符
      会被 webpack的 html-webpack-plugin 插件替换为 public 文件夹的路径
    -->
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>React App</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
```

