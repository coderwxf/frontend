## 获取DOM

一般获取DOM，都是在组件挂载完毕后，也就是在`componentDidMount`中执行

`方式一 -- 原生方式`

```jsx
componentDidMount() {
  console.log(document.querySelector('.title'))
}
```



`方式二 -- ref方式` ---> 不推荐，React严格模式下会红色警告

```jsx
import { PureComponent } from 'react'

export default class App extends PureComponent {
  render() {
    return (
      <>
        <h2 ref="title">title</h2>
      </>
    )
  }

  componentDidMount() {
    // 如果元素上有ref属性，在被挂载后，会获取对应的DOM元素
    // 并存入this.refs中 「key为ref属性值，value为对应的DOM元素」
    console.log(this.refs.title)
  }
}
```



`方式三 -- 函数形式`

```jsx
import { PureComponent } from 'react'

export default class App extends PureComponent {
  render() {
    return (
      <>
        {/*
          1. 函数形式的参数 就是 我们需要获取的DOM元素
          2. 以函数形式获取的DOM元素 可以自主决定 赋值给那个变量
        */}
        <h2 ref={el => this.el = el}>title</h2>
      </>
    )
  }

  componentDidMount() {
    console.log(this.el)
  }
}
```



`方式三 - 内置api`

```jsx
import { PureComponent, createRef } from 'react'

export default class App extends PureComponent {
  // 通过createRef 获取ref对象
  el = createRef() // el => { current: undefined }

  render() {
    return (
      <>
        {/* 将ref对象绑定到元素上 */}
        <h2 ref={this.el}>title</h2>
      </>
    )
  }

  componentDidMount() {
    // 获取并使用DOM元素
    console.log(this.el.current)
  }
}
```

