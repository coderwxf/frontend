## 类型声明

通过在变量名后加上“冒号 + 类型”的形式，可以为变量声明类型。

例如，`let foo: string;` 表示 `foo` 是一个字符串类型的变量。



**类型一致性检查**：TypeScript 要求变量的值必须与其声明的类型一致，否则会报错。

```js
// 报错
let foo: string = 123;
```



**变量必须先赋值后使用**：在 TypeScript 中，变量在使用前必须先赋值，否则会报错。

```ts
let x: number;
console.log(x); // 报错 -- 使用了number类型值，但值是undefined
```



## 类型推断 

类型声明是可选的，你可以加，也可以不加

即使没有显式声明类型，TypeScript 依然可以通过类型推断确保大多数情况下代码的类型安全。

TypeScript 与 JavaScript 完全兼容，这意味着所有的 JavaScript 代码都是合法的 TypeScript 代码。

这种设计允许开发者在将现有的 JavaScript 项目迁移到 TypeScript 时，逐步为代码添加类型声明，而不会影响现有代码的正常运行

由于类型声明是可选的，开发者可以在迁移或重构 JavaScript 项目时逐步添加类型声明，而无需一次性完成。这种渐进式的迁移方式为大型项目的转型提供了更大的灵活性和便利性。



## 编译

JavaScript宿主环境只认JavaScript, 所以TypeScript需要先编译为JavaScript后，才可以被运行

TypeScript 的编译过程，实际上就是把“类型代码”全部拿掉，只保留“值代码”，并基本上不会修改JavaScript的运行时行为

TypeScript 官方提供的编译器叫做 tsc

根据约定，TypeScript 脚本文件使用`.ts`后缀名，JavaScript 脚本文件使用`.js`后缀名。tsc 的作用就是把`.ts`脚本转变成`.js`脚本。

```shell
$ tsc file1.ts file2.ts file3.ts
```

上面命令会在**当前目录**生成三个 JavaScript 脚本文件`file1.js`、`file2.js`、`file3.js`。

```shell
# 默认target是 es3
$ tsc --target es2015 app.ts
```



## 编译错误

1. 没有错误 -> 编译成功
2. 默认情况下，错误只是编译警告 -> 依然会编译生成 JavaScript 脚本
3. TypeScript 允许将`tsc`的编译参数，写在配置文件`tsconfig.json`。只要当前目录有这个文件，`tsc`就会自动读取，所以运行时可以不写参数

```shell
# 类型警告提升为类型错误，即一旦报错就停止编译，不生成编译产物
$ tsc --noEmitOnError app.ts
```

```shell
# 只检查类型是否正确，不生成 JavaScript 文
$ tsc --noEmit app.ts
```



## ts-node

一个用于在 Node.js 环境中直接运行 TypeScript 文件的工具，它会自动编译 TypeScript 代码并立即执行，无需手动运行 `tsc`。

如果执行 ts-node 命令不带有任何参数，它会提供一个 TypeScript 的命令行 REPL 运行环境

```shell
$ ts-node script.ts
```

